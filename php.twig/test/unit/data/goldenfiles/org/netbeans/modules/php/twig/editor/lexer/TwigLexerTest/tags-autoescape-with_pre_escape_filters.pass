token #0 T_TWIG_INSTRUCTION [{%]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_FUNCTION [autoescape]
token #3 T_TWIG_WHITESPACE [ ]
token #4 T_TWIG_NAME [true]
token #5 T_TWIG_WHITESPACE [ ]
token #6 T_TWIG_INSTRUCTION [%}]
TOP token #1 T_HTML [\n\n(nl2br is pre_escaped for "html" and declared safe for "html")\n\n1. Pre-escape and don't post-escape\n( var|escape|nl2br )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [nl2br]
token #5 T_TWIG_WHITESPACE [ ]
token #6 T_TWIG_VARIABLE [}}]
TOP token #3 T_HTML [\n\n2. Don't double-pre-escape\n( var|escape|nl2br )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [escape]
token #5 T_TWIG_PUNCTUATION [|]
token #6 T_TWIG_NAME [nl2br]
token #7 T_TWIG_WHITESPACE [ ]
token #8 T_TWIG_VARIABLE [}}]
TOP token #5 T_HTML [\n\n3. Don't escape safe values\n( var|raw|nl2br )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [raw]
token #5 T_TWIG_PUNCTUATION [|]
token #6 T_TWIG_NAME [nl2br]
token #7 T_TWIG_WHITESPACE [ ]
token #8 T_TWIG_VARIABLE [}}]
TOP token #7 T_HTML [\n\n4. Don't escape safe values\n( var|escape|nl2br|nl2br )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [nl2br]
token #5 T_TWIG_PUNCTUATION [|]
token #6 T_TWIG_NAME [nl2br]
token #7 T_TWIG_WHITESPACE [ ]
token #8 T_TWIG_VARIABLE [}}]
TOP token #9 T_HTML [\n\n5. Re-escape values that are escaped for an other contexts\n( var|escape_something|escape|nl2br )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [escape_something]
token #5 T_TWIG_PUNCTUATION [|]
token #6 T_TWIG_NAME [nl2br]
token #7 T_TWIG_WHITESPACE [ ]
token #8 T_TWIG_VARIABLE [}}]
TOP token #11 T_HTML [\n\n6. Still escape when using filters not declared safe\n( var|escape|nl2br|upper|escape )\n]
token #0 T_TWIG_VARIABLE [{{]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_NAME [var]
token #3 T_TWIG_PUNCTUATION [|]
token #4 T_TWIG_NAME [nl2br]
token #5 T_TWIG_PUNCTUATION [|]
token #6 T_TWIG_NAME [upper]
token #7 T_TWIG_WHITESPACE [ ]
token #8 T_TWIG_VARIABLE [}}]
TOP token #13 T_HTML [\n\n]
token #0 T_TWIG_INSTRUCTION [{%]
token #1 T_TWIG_WHITESPACE [ ]
token #2 T_TWIG_FUNCTION [endautoescape]
token #3 T_TWIG_WHITESPACE [ ]
token #4 T_TWIG_INSTRUCTION [%}]
