<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="netbeans" name="cnd.remote">
    <description>Builds, tests, and runs the project org.netbeans.modules.cnd.remote</description>
    <import file="../nbbuild/templates/projectized.xml"/>

    <property name="binaries.dir" value="release/bin"/>
    <property name="binaries.zip" value="external/cnd-rfs-1.0.zip"/>

    <target name="-overwrite-binaries-zip" if="${zip.binaries.from.release.bin}">
        <echo message="######################################################################"></echo>
        <echo message="#  ATTENTION:"></echo>
        <echo message="#  Updating ${binaries.zip} with binaries ${binaries.dir}"></echo>
        <echo message="######################################################################"></echo>
        <zip update="true" basedir="${binaries.dir}" destfile="${binaries.zip}"/>
    </target>

    <target name="-cnd-remote-release.files" depends="projectized-common.-release.files,projectized.-define-downloadbinaries-task">
        <echo message="Overridden -release.files by cnd.remote" />
        <downloadbinaries cache="${binaries.cache}" server="${binaries.server}">
            <manifest dir=".">
                <include name="external/binaries-list"/>
            </manifest>
        </downloadbinaries>
        <taskdef name="releasefilesextra" classname="org.netbeans.nbbuild.extlibs.ReleaseFilesExtra" classpath="${nbantext.jar}"/>
        <releasefilesextra property="release.files.extra"/>
    </target>

    <target name="-release.files" depends="-cnd-remote-release.files,-overwrite-binaries-zip">
    </target>

</project>
